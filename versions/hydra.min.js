(function(){var q,m,l,i,k,t,e,d,o,u,y,z,c,w,v;if(typeof Object.create!=="function"){Object.create=function(A){function B(){}B.prototype=A;return new B()}}v=typeof exports==="object"&&typeof module==="object"&&typeof module.exports==="object"&&typeof require==="function";m="undefined";q=this;k=null;t=false;l={};d="2.5.2";u=t;w={};function r(A){return{}.toString.call(A)}function b(A){return r(A)==="[object Function]"}function a(A){u=A}function p(B,A){return[].slice.call(B,A||0)}function s(A,B){return A.hasOwnProperty(B)}function f(B,A){var C;for(C in A){if(s(A,C)){B[C]=A[C]}}return B}function h(B,D,C,A){B[D]=(function(F,E){return function(){var H=p(arguments,0);try{return E.apply(this,H)}catch(G){y.log(C,F,G)}finally{H=k}}}(D,A))}function j(B,D){var C,A;C=l[B].creator(D);A=C.init||function(){};C.__action__=D;C.oEventsCallbacks=C.oEventsCallbacks||{};C.aListeningEvents=(function(){var F=C.oEventsCallbacks,G,E=[];for(G in F){if(F.hasOwnProperty(G)){E.push(G)}}F=G=null;return E}());C.init=function(E){var F=p(arguments,0).concat(i);D.listen(this.aListeningEvents,this.handleAction,this);A.apply(this,F)};C.handleAction=function(F){var E=this.oEventsCallbacks[F.type];if(typeof E===m){return}E.call(this,F)};C.onDestroy=C.onDestroy||function(){};C.destroy=function(){this.onDestroy();D.stopListen(this.aListeningEvents,this)};return C}function n(C){var E,B,D,A;if(typeof l[C]===m){throw new Error("The module "+C+" is not registered!")}E=new c();D="";A=function(){};B=j(C,E);if(!u){for(D in B){if(s(B,D)){A=B[D];if(!b(A)){continue}h(B,D,C,A)}}}try{return B}finally{E=B=D=A=k}}y=q.console||{log:function(){}};z=function(){};z.prototype={type:"Module",getInstance:n,register:function(B,A){l[B]={creator:A,instances:{}};return l[B]},_merge:function(E,A){var B,D,C;B={};C=function(F){return function(){var G=p(arguments,0);F.apply(this,G)}};B.__super__={};B.__super__.__instance__=E;B.__super__.__call__=function(G,H){var F=this;while(s(F,G)===t){F=F.__instance__.__super__}F[G].apply(B,H)};for(D in E){if(s(E,D)){if(D==="__super__"){continue}B[D]=E[D]}}for(D in A){if(s(A,D)){if(typeof B.__super__!==m&&b(B[D])){B.__super__[D]=(C(B[D]))}B[D]=A[D]}}try{return B}finally{B=k;D=k}},extend:function(G,C,E){var B,F,K,D,H,A,J,I;J=this;B=l[G];F=G;K=function(L){return L};if(typeof C==="string"){F=C;K=E}else{K=C}if(typeof B===m){return}I=new c();H=K(I);D=B.creator(I);l[F]={creator:function(L){A=J._merge(D,H);A.__action__=L;return A},instances:{}}},setInstance:function(C,B,A){var D=l[C];if(!D){throw new Error("The module "+C+" is not registered!")}D.instances[B]=A;return D},setVars:function(A){if(typeof i!==m){i=f(i,A)}else{i=A}},getVars:function(){return f({},i)},start:function(C,B,F,E){var D,A;D=l[C];if(E&&this.isModuleStarted(C,B)){this.stop(C,B)}if(typeof D!==m){A=n(C);D.instances[B]=A;A._id_=B;if(typeof F!==m){A.init(F)}else{A.init()}}D=k;return A},isModuleStarted:function(B,A){return(typeof l[B]!==m&&typeof l[B].instances[A]!==m)},startAll:function(){var A,B;for(A in l){if(s(l,A)){B=l[A];if(typeof B!==m){this.start(A,Math.random())}}}A=k},stop:function(C,A){var D,B;D=l[C];if(typeof D===m){return false}B=D.instances[A];if(typeof D!==m&&typeof B!==m){B.destroy()}D=B=k;return true},stopAll:function(){var B,C,A;for(B in l){if(s(l,B)){C=l[B];if(typeof C!==m){for(A in C.instances){if(s(C.instances,A)){this.stop(B,A)}}}}}B=k},_delete:function(A){if(typeof l[A]!==m){delete l[A]}},remove:function(A){var B=l[A];if(typeof B===m){return null}if(typeof B!==m){try{return B}finally{B=k;this._delete(A)}}}};c=function(){};c.prototype={type:"Action",listen:function(E,C,F){var B,A,D;B="";D=E.length;for(A=0;A<D;A=A+1){B=E[A];if(typeof w[B]===m){w[B]=[]}w[B].push({module:F,handler:C})}},notify:function(D){var F,E,A,C,B;F=D.type;E=k;if(typeof w[F]===m){return}A=w[F].slice();B=A.length;for(C=0;C<B;C=C+1){E=A[C];E.handler.call(E.module,D)}F=A=C=B=E=k},stopListen:function(H,F){var B,E,A,D,G,C;B="";E=[];D=H.length;G=0;C=0;for(A=0;A<D;A=A+1){E=[];B=H[A];C=w[B].length;for(G=0;G<C;G=G+1){if(F!==w[B][G].module){E.push(w[B][G])}}w[B]=E;if(w[B].length===0){delete w[B]}}B=E=A=D=G=C=k},__restore__:function(){w={}}};function g(){return y}function x(A){y=A}o=function(){};o.version=d;o.action=function(){return new c()};o.errorHandler=g;o.setErrorHandler=x;o.module=new z();o.setDebug=a;o.extend=function(B,A){if(typeof this[B]===m){this[B]=A}else{this[B]=f(this[B],A)}};o.noConflict=function(B,A,C){if(typeof this[B]!==m){A[C]=this[B];return true}return false};q.Hydra=o;if(v){module.exports=o}else{if(typeof define!=="undefined"){define(function(){return o})}}}).call(this);